<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù‚Ø´Ù‡ Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ UTM</title>
    <style>
        :root {
            --bg: #0f172a;
            --surface: #1e293b;
            --primary: #3b82f6;
            --secondary: #8b5cf6;
            --text: #f1f5f9;
            --text-light: #cbd5e1;
            --border: #475569;
            --zone-bg: #334155;
            --zone-hover: #475569;
            --zone-active: #10b981;
            --equator: #f59e0b;
            --prime-meridian: #ef4444;
            --radius: 12px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            gap: 24px;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background: var(--surface);
            border-radius: var(--radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 8px;
        }
        
        .subtitle {
            color: var(--text-light);
            font-size: 1rem;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 24px;
        }
        
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .map-container {
            background: var(--surface);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border);
        }
        
        .map-title {
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .utm-grid {
            display: grid;
            grid-template-columns: repeat(60, 1fr);
            gap: 1px;
            background: var(--border);
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: auto;
            max-height: 600px;
            position: relative;
        }
        
        .zone-row {
            display: contents;
        }
        
        .zone-cell {
            background: var(--zone-bg);
            padding: 8px 4px;
            text-align: center;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--surface);
            min-height: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .zone-cell:hover {
            background: var(--zone-hover);
            transform: scale(1.05);
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
        }
        
        .zone-cell.active {
            background: var(--zone-active);
            box-shadow: 0 0 0 2px var(--text);
            z-index: 20;
        }
        
        .zone-cell.equator {
            border-top: 2px solid var(--equator);
            border-bottom: 2px solid var(--equator);
        }
        
        .zone-cell.prime-meridian-col {
            position: relative;
        }
        
        .zone-cell.prime-meridian-col::after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--prime-meridian);
            z-index: 5;
        }
        
        .zone-cell.prime-meridian-col.left-border::after {
            left: -1px;
        }
        
        .zone-cell.prime-meridian-col.right-border::after {
            right: -1px;
        }
        
        .zone-number {
            font-weight: bold;
            font-size: 0.75rem;
        }
        
        .zone-number.highlight {
            color: #fbbf24;
            font-weight: 900;
        }
        
        .zone-number.west {
            color: #60a5fa;
        }
        
        .zone-number.east {
            color: #fbbf24;
        }
        
        .zone-letter {
            font-size: 0.65rem;
            opacity: 0.9;
            margin-top: 2px;
        }
        
        .zone-letter.equator {
            color: var(--equator);
            font-weight: bold;
        }
        
        .map-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            padding: 0 5px;
            font-size: 0.8rem;
            color: var(--text-light);
        }
        
        .map-labels .west {
            color: #60a5fa;
        }
        
        .map-labels .east {
            color: #fbbf24;
        }
        
        .prime-meridian-label {
            position: absolute;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
            z-index: 30;
            pointer-events: none;
            transform: translateX(-50%);
            top: -25px;
        }
        
        .sidebar {
            background: var(--surface);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            gap: 24px;
        }
        
        .input-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
            padding-bottom: 8px;
            border-bottom: 2px solid var(--border);
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-light);
        }
        
        input {
            padding: 14px 16px;
            background: #0f172a;
            border: 2px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }
        
        .coord-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        
        button {
            padding: 16px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .result-section {
            background: #0f172a;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid var(--primary);
        }
        
        .result-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .result-icon {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .result-title {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .result-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }
        
        .result-item {
            background: var(--surface);
            padding: 12px;
            border-radius: 6px;
        }
        
        .result-label {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 4px;
        }
        
        .result-value {
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        .full-zone {
            grid-column: span 2;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #1e40af, #5b21b6);
            border-radius: 8px;
            margin-top: 8px;
        }
        
        .full-zone-label {
            font-size: 0.9rem;
            color: #dbeafe;
            margin-bottom: 8px;
        }
        
        .full-zone-value {
            font-size: 2.5rem;
            font-weight: 800;
            letter-spacing: 2px;
        }
        
        .map-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
        
        .northern {
            background: #3b82f6;
        }
        
        .southern {
            background: #8b5cf6;
        }
        
        .equator-color {
            background: var(--equator);
        }
        
        .meridian-color {
            background: var(--prime-meridian);
        }
        
        .info-section {
            background: #0f172a;
            border-radius: 8px;
            padding: 16px;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 0.9rem;
            margin-top: 24px;
        }
        
        .grid-axis {
            position: absolute;
            background: rgba(251, 191, 36, 0.3);
            pointer-events: none;
            z-index: 5;
        }
        
        .axis-label {
            position: absolute;
            font-size: 0.7rem;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.7);
            padding: 2px 6px;
            border-radius: 4px;
            z-index: 30;
        }
        
        @media (max-width: 768px) {
            .utm-grid {
                grid-template-columns: repeat(30, 1fr);
            }
            
            .zone-cell {
                font-size: 0.6rem;
                padding: 4px 2px;
                min-height: 35px;
            }
        }
        
        .test-locations {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .test-btn {
            padding: 10px;
            background: #374151;
            border: 1px solid #4b5563;
            border-radius: 6px;
            color: #d1d5db;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .test-btn:hover {
            background: #4b5563;
            border-color: #60a5fa;
        }
        
        .location-info {
            font-size: 0.75rem;
            color: #9ca3af;
            margin-top: 2px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Ù†Ù‚Ø´Ù‡ Ú©Ø§Ù…Ù„ Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ UTM</h1>
            <div class="subtitle">Û¶Û° Ø²ÙˆÙ† Ø¹Ø¯Ø¯ÛŒ Ã— Û²Û° Ø­Ø±Ù = Û±Û²Û°Û° Ø²ÙˆÙ† - Ø³ÛŒØ³ØªÙ… WGS84</div>
        </header>
        
        <div class="main-content">
            <div class="map-container">
                <div class="map-header">
                    <div class="map-title">Ù†Ù‚Ø´Ù‡ Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ UTM (Û±Û²Û°Û° Ø²ÙˆÙ†)</div>
                    <div style="font-size: 0.9rem; color: var(--text-light);">
                        <span>ğŸŸ¦ Ø´Ù…Ø§Ù„ (Ø¨Ø§Ù„Ø§)</span> | <span>ğŸŸª Ø¬Ù†ÙˆØ¨ (Ù¾Ø§ÛŒÛŒÙ†)</span>
                    </div>
                </div>
                
                <div class="utm-grid" id="utm-map">
                    <!-- Ø²ÙˆÙ†â€ŒÙ‡Ø§ Ø¨Ø§ JavaScript Ø³Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                </div>
                
                <div class="map-labels">
                    <div class="west">ØºØ±Ø¨ â† Ø²ÙˆÙ† Û± (180Â°W)</div>
                    <div class="east">Ø²ÙˆÙ† Û¶Û° (180Â°E) â†’ Ø´Ø±Ù‚</div>
                </div>
                
                <div class="map-legend">
                    <div class="legend-item">
                        <div class="legend-color northern"></div>
                        <span>Ù†ÛŒÙ…Ú©Ø±Ù‡ Ø´Ù…Ø§Ù„ÛŒ (N-X) Ø¨Ø§Ù„Ø§</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color southern"></div>
                        <span>Ù†ÛŒÙ…Ú©Ø±Ù‡ Ø¬Ù†ÙˆØ¨ÛŒ (C-M) Ù¾Ø§ÛŒÛŒÙ†</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color equator-color"></div>
                        <span>Ù…Ø¯Ø§Ø± Ø§Ø³ØªÙˆØ§ (Ø¹Ø±Ø¶ 0Â°)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color meridian-color"></div>
                        <span>Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ (Ø·ÙˆÙ„ 0Â°)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: var(--zone-active);"></div>
                        <span>Ø²ÙˆÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡</span>
                    </div>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="input-section">
                    <h2 class="section-title">Ù…Ø®ØªØµØ§Øª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</h2>
                    
                    <div class="coord-inputs">
                        <div class="input-group">
                            <label for="latitude">Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ (Latitude)</label>
                            <input type="number" id="latitude" min="-90" max="90" step="0.0001" 
                                   placeholder="Ù…Ø«Ø§Ù„: 35.6892" value="35.6892">
                        </div>
                        
                        <div class="input-group">
                            <label for="longitude">Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ (Longitude)</label>
                            <input type="number" id="longitude" min="-180" max="180" step="0.0001" 
                                   placeholder="Ù…Ø«Ø§Ù„: 51.3890" value="51.3890">
                        </div>
                    </div>
                    
                    <button onclick="findUTMZone()">
                        <span>ğŸ“</span>
                        Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø²ÙˆÙ†
                    </button>
                    
                    <div class="test-locations">
                        <div class="test-btn" onclick="testLocation('ØªÙ‡Ø±Ø§Ù†', 35.6892, 51.3890)">
                            ØªÙ‡Ø±Ø§Ù†ØŒ Ø§ÛŒØ±Ø§Ù†
                            <div class="location-info">Ø²ÙˆÙ† 39N</div>
                        </div>
                        <div class="test-btn" onclick="testLocation('Ù„Ù†Ø¯Ù†', 51.5074, -0.1278)">
                            Ù„Ù†Ø¯Ù†ØŒ Ø§Ù†Ú¯Ù„ÛŒØ³
                            <div class="location-info">Ø²ÙˆÙ† 30U</div>
                        </div>
                        <div class="test-btn" onclick="testLocation('Ù†ÛŒÙˆÛŒÙˆØ±Ú©', 40.7128, -74.0060)">
                            Ù†ÛŒÙˆÛŒÙˆØ±Ú©ØŒ Ø¢Ù…Ø±ÛŒÚ©Ø§
                            <div class="location-info">Ø²ÙˆÙ† 18T</div>
                        </div>
                        <div class="test-btn" onclick="testLocation('Ø³ÛŒØ¯Ù†ÛŒ', -33.8688, 151.2093)">
                            Ø³ÛŒØ¯Ù†ÛŒØŒ Ø§Ø³ØªØ±Ø§Ù„ÛŒØ§
                            <div class="location-info">Ø²ÙˆÙ† 56H</div>
                        </div>
                    </div>
                    
                    <div class="info-section">
                        <strong>Ø§ÛŒØ±Ø§Ù† Ø¯Ø± Ù†Ù‚Ø´Ù‡:</strong>
                        <ul style="padding-right: 20px; margin-top: 8px;">
                            <li>ØªÙ‡Ø±Ø§Ù†: Ø·ÙˆÙ„ 51Â°E â†’ Ø²ÙˆÙ† 39</li>
                            <li>Ù…ÙˆÙ‚Ø¹ÛŒØª: Ø´Ø±Ù‚ Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ (Ø®Ø· Ù‚Ø±Ù…Ø²)</li>
                            <li>Ù†ÛŒÙ…Ú©Ø±Ù‡: Ø´Ù…Ø§Ù„ÛŒ (Ø±Ù†Ú¯ Ø¢Ø¨ÛŒ)</li>
                            <li>ÙØ§ØµÙ„Ù‡ Ø§Ø² Ø§Ø³ØªÙˆØ§: 35Â° Ø´Ù…Ø§Ù„ÛŒ</li>
                            <li>Ø²ÙˆÙ† Ø§ÛŒØ±Ø§Ù†: Û³Û¸ ØªØ§ Û´Û± (Ø¨Ø³ØªÙ‡ Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ÛŒØª)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="result-section" id="result-section" style="display: none;">
                    <div class="result-header">
                        <div class="result-icon">ğŸ“</div>
                        <div class="result-title">Ø²ÙˆÙ† UTM ÛŒØ§ÙØª Ø´Ø¯Ù‡</div>
                    </div>
                    
                    <div class="result-details">
                        <div class="result-item">
                            <div class="result-label">Ø¹Ø¯Ø¯ Ø²ÙˆÙ†</div>
                            <div class="result-value" id="result-zone-number">39</div>
                        </div>
                        
                        <div class="result-item">
                            <div class="result-label">Ø­Ø±Ù Ø²ÙˆÙ†</div>
                            <div class="result-value" id="result-zone-letter">S</div>
                        </div>
                        
                        <div class="result-item">
                            <div class="result-label">Ù†ÛŒÙ…Ú©Ø±Ù‡</div>
                            <div class="result-value" id="result-hemisphere">Ø´Ù…Ø§Ù„ÛŒ</div>
                        </div>
                        
                        <div class="result-item">
                            <div class="result-label">Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ø¹Ø±Ø¶ÛŒ</div>
                            <div class="result-value" id="result-lat-range">32Â°N ØªØ§ 40Â°N</div>
                        </div>
                        
                        <div class="full-zone">
                            <div class="full-zone-label">Ø²ÙˆÙ† Ú©Ø§Ù…Ù„ UTM</div>
                            <div class="full-zone-value" id="result-full-zone">39S</div>
                        </div>
                    </div>
                </div>
                
                <div class="info-section">
                    <h3 style="margin-bottom: 8px; color: var(--primary);">Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ (0Â°):</h3>
                    <ul style="padding-right: 20px;">
                        <li>Ø®Ø· Ù‚Ø±Ù…Ø² Ø¨ÛŒÙ† Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Û³Û° Ùˆ Û³Û±</li>
                        <li>Ø²ÙˆÙ† Û³Û°: 6Â°W ØªØ§ 0Â° (ØºØ±Ø¨ÛŒ)</li>
                        <li>Ø²ÙˆÙ† Û³Û±: 0Â° ØªØ§ 6Â°E (Ø´Ø±Ù‚ÛŒ)</li>
                        <li>Ø§ÛŒØ±Ø§Ù† (51Â°E) â†’ Ø´Ø±Ù‚ Ø®Ø· Ù‚Ø±Ù…Ø² â†’ Ø²ÙˆÙ† 39</li>
                        <li>Ø¢Ù…Ø±ÛŒÚ©Ø§ (74Â°W) â†’ ØºØ±Ø¨ Ø®Ø· Ù‚Ø±Ù…Ø² â†’ Ø²ÙˆÙ† 18</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <footer>
            <div>Ø³ÛŒØ³ØªÙ… Ù…Ø®ØªØµØ§Øª Ø¬Ù‡Ø§Ù†ÛŒ Ù…Ø±Ú©Ø§ØªÙˆØ± (UTM) - Ù…Ù†Ø·Ø¨Ù‚ Ø¨Ø± Ù†Ù‚Ø´Ù‡ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ</div>
            <div style="margin-top: 8px; font-size: 0.8rem;">Ø§ÛŒØ±Ø§Ù†: Ø´Ø±Ù‚ Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ (Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Û³Û¸-Û´Û±)</div>
        </footer>
    </div>

    <script>
        // ØªØ¹Ø±ÛŒÙ Ø­Ø±ÙˆÙ Ø²ÙˆÙ† UTM Ø¨Ù‡ ØªØ±ØªÛŒØ¨ Ø§Ø² Ø´Ù…Ø§Ù„ Ø¨Ù‡ Ø¬Ù†ÙˆØ¨ (Ø§Ø² Ø¨Ø§Ù„Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†)
        const zoneLetters = [
            'X', 'W', 'V', 'U', 'T', 'S', 'R', 'Q', 'P', 'N', // Ø´Ù…Ø§Ù„ÛŒ (Ø¨Ø§Ù„Ø§)
            'M', 'L', 'K', 'J', 'H', 'G', 'F', 'E', 'D', 'C'  // Ø¬Ù†ÙˆØ¨ÛŒ (Ù¾Ø§ÛŒÛŒÙ†)
        ];
        
        const zoneLatRanges = {
            'C': '80Â°S ØªØ§ 72Â°S', 'D': '72Â°S ØªØ§ 64Â°S', 'E': '64Â°S ØªØ§ 56Â°S',
            'F': '56Â°S ØªØ§ 48Â°S', 'G': '48Â°S ØªØ§ 40Â°S', 'H': '40Â°S ØªØ§ 32Â°S',
            'J': '32Â°S ØªØ§ 24Â°S', 'K': '24Â°S ØªØ§ 16Â°S', 'L': '16Â°S ØªØ§ 8Â°S',
            'M': '8Â°S ØªØ§ 0Â°', 'N': '0Â° ØªØ§ 8Â°N', 'P': '8Â°N ØªØ§ 16Â°N',
            'Q': '16Â°N ØªØ§ 24Â°N', 'R': '24Â°N ØªØ§ 32Â°N', 'S': '32Â°N ØªØ§ 40Â°N',
            'T': '40Â°N ØªØ§ 48Â°N', 'U': '48Â°N ØªØ§ 56Â°N', 'V': '56Â°N ØªØ§ 64Â°N',
            'W': '64Â°N ØªØ§ 72Â°N', 'X': '72Â°N ØªØ§ 84Â°N'
        };
        
        // Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù‚Ø´Ù‡ Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ UTM Ø¨Ù‡ ØªØ±ØªÛŒØ¨ ØµØ­ÛŒØ­ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
        function createUTMMap() {
            const mapContainer = document.getElementById('utm-map');
            mapContainer.innerHTML = '';
            
            // ØªØ¹ÛŒÛŒÙ† Ù…ÙˆÙ‚Ø¹ÛŒØª Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ (Ø·ÙˆÙ„ 0 Ø¯Ø±Ø¬Ù‡)
            // Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ Ø¨ÛŒÙ† Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ 30 Ùˆ 31 Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯
            const primeMeridianBetweenZones = true; // Ø¨ÛŒÙ† Ø¯Ùˆ Ø²ÙˆÙ† Ø§Ø³Øª
            
            // Ù…Ø¯Ø§Ø± Ø§Ø³ØªÙˆØ§ Ø¨ÛŒÙ† Ø­Ø±Ù M Ùˆ N (Ø±Ø¯ÛŒÙ 10 Ùˆ 11 Ø§Ø² Ø¨Ø§Ù„Ø§)
            const equatorRowIndex = 9; // Ø±Ø¯ÛŒÙ Ø­Ø±Ù N (Ø´Ù…Ø§Ø±Ø´ Ø§Ø² 0)
            
            // Ø§ÛŒØ¬Ø§Ø¯ 20 Ø±Ø¯ÛŒÙ (Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø­Ø±Ù) - Ø§Ø² Ø´Ù…Ø§Ù„ Ø¨Ù‡ Ø¬Ù†ÙˆØ¨ (Ø§Ø² Ø¨Ø§Ù„Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†)
            for (let letterIndex = 0; letterIndex < zoneLetters.length; letterIndex++) {
                const letter = zoneLetters[letterIndex];
                const isNorthern = ['X','W','V','U','T','S','R','Q','P','N'].includes(letter);
                const isEquatorRow = letterIndex === equatorRowIndex; // Ø­Ø±Ù N (Ø§Ø³ØªÙˆØ§)
                
                // Ø§ÛŒØ¬Ø§Ø¯ 60 Ø³ØªÙˆÙ† (Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¹Ø¯Ø¯ Ø²ÙˆÙ†) - Ø§Ø² 180Â°W Ø¨Ù‡ Ø³Ù…Øª Ø´Ø±Ù‚
               for (let zoneNumber = 60; zoneNumber >= 1; zoneNumber--){
                    const zoneCell = document.createElement('div');
                    zoneCell.className = 'zone-cell';
                    zoneCell.dataset.zoneNumber = zoneNumber;
                    zoneCell.dataset.zoneLetter = letter;
                    zoneCell.dataset.isNorthern = isNorthern;
                    
                    // Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† Ù…Ø¯Ø§Ø± Ø§Ø³ØªÙˆØ§
                    if (isEquatorRow) {
                        zoneCell.classList.add('equator');
                    }
                    
                    // Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£
                    // Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ Ø¨ÛŒÙ† Ø²ÙˆÙ† 30 (Ø¢Ø®Ø±ÛŒÙ† Ø²ÙˆÙ† ØºØ±Ø¨ÛŒ) Ùˆ 31 (Ø§ÙˆÙ„ÛŒÙ† Ø²ÙˆÙ† Ø´Ø±Ù‚ÛŒ) Ø§Ø³Øª
                    if (primeMeridianBetweenZones) {
                       if (zoneNumber === 30 || zoneNumber === 31) {
    zoneCell.classList.add('prime-meridian-col');
}

                    }
                    
                    // Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ ØµØ­ÛŒØ­ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ:
                    if (isNorthern) {
                        // Ø´Ù…Ø§Ù„ = Ø¨Ø§Ù„Ø§ = Ø¢Ø¨ÛŒ
                        zoneCell.style.background = 'linear-gradient(135deg, #1e3a8a, #3b82f6)';
                        zoneCell.title = `Ø²ÙˆÙ† ${zoneNumber}${letter} - Ù†ÛŒÙ…Ú©Ø±Ù‡ Ø´Ù…Ø§Ù„ÛŒ (Ø¨Ø§Ù„Ø§)`;
                    } else {
                        // Ø¬Ù†ÙˆØ¨ = Ù¾Ø§ÛŒÛŒÙ† = Ø¨Ù†ÙØ´
                        zoneCell.style.background = 'linear-gradient(135deg, #5b21b6, #8b5cf6)';
                        zoneCell.title = `Ø²ÙˆÙ† ${zoneNumber}${letter} - Ù†ÛŒÙ…Ú©Ø±Ù‡ Ø¬Ù†ÙˆØ¨ÛŒ (Ù¾Ø§ÛŒÛŒÙ†)`;
                    }
                    
                    // Ø¨Ø±Ø¬Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† Ø²ÙˆÙ†â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡
                    const zoneNumberSpan = document.createElement('div');
                    zoneNumberSpan.className = 'zone-number';
                    
                    if (zoneNumber === 1) {
                        zoneNumberSpan.classList.add('highlight', 'west');
                        zoneNumberSpan.textContent = `[${zoneNumber}]`;
                        zoneNumberSpan.title = "180Â°W - ØºØ±Ø¨ÛŒâ€ŒØªØ±ÛŒÙ† Ù†Ù‚Ø·Ù‡";
                    } else if (zoneNumber === 60) {
                        zoneNumberSpan.classList.add('highlight', 'east');
                        zoneNumberSpan.textContent = `[${zoneNumber}]`;
                        zoneNumberSpan.title = "180Â°E - Ø´Ø±Ù‚ÛŒâ€ŒØªØ±ÛŒÙ† Ù†Ù‚Ø·Ù‡";
                    } else if (zoneNumber === 30 || zoneNumber === 31) {
                        zoneNumberSpan.classList.add('highlight');
                        zoneNumberSpan.textContent = zoneNumber;
                        zoneNumberSpan.title = "Ù†Ø²Ø¯ÛŒÚ© Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ (0Â°)";
                    } else {
                        zoneNumberSpan.textContent = zoneNumber;
                    }
                    
                    // Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ù‚/ØºØ±Ø¨
                    if (zoneNumber <= 30) {
                        zoneNumberSpan.style.color = '#93c5fd'; // Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù† Ø¨Ø±Ø§ÛŒ ØºØ±Ø¨
                    } else {
                        zoneNumberSpan.style.color = '#fbbf24'; // Ø²Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ø´Ø±Ù‚
                    }
                    
                    const zoneLetterSpan = document.createElement('div');
                    zoneLetterSpan.className = 'zone-letter';
                    if (isEquatorRow) {
                        zoneLetterSpan.classList.add('equator');
                        zoneLetterSpan.textContent = `â˜… ${letter}`;
                    } else {
                        zoneLetterSpan.textContent = letter;
                    }
                    
                    zoneCell.appendChild(zoneNumberSpan);
                    zoneCell.appendChild(zoneLetterSpan);
                    
                    // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø²ÙˆÙ†
                    zoneCell.addEventListener('click', () => {
                        selectZone(zoneNumber, letter);
                    });
                    
                    mapContainer.appendChild(zoneCell);
                }
            }
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ø±Ú†Ø³Ø¨ Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£
            addPrimeMeridianLabel();
        }
        
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ø±Ú†Ø³Ø¨ Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£
       function addPrimeMeridianLabel() {
    const mapContainer = document.getElementById('utm-map');
    const cellWidth = 100 / 60; // Ø¯Ø±ØµØ¯
    const primeMeridianPosition = 30.5 * cellWidth; // Ø¨ÛŒÙ† Ø³Ù„ÙˆÙ„ 30 Ùˆ 31
    
    const label = document.createElement('div');
    label.className = 'prime-meridian-label';
    label.style.left = `${primeMeridianPosition}%`;
    label.textContent = 'Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£ (0Â°)';
    mapContainer.appendChild(label);
}

        
        // Ø§Ù†ØªØ®Ø§Ø¨ Ø²ÙˆÙ† Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡
        function selectZone(zoneNumber, zoneLetter) {
            // Ø­Ø°Ù Ú©Ù„Ø§Ø³ active Ø§Ø² Ù‡Ù…Ù‡ Ø²ÙˆÙ†â€ŒÙ‡Ø§
            document.querySelectorAll('.zone-cell').forEach(cell => {
                cell.classList.remove('active');
            });
            
            // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø²ÙˆÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ active
            document.querySelectorAll('.zone-cell').forEach(cell => {
                if (parseInt(cell.dataset.zoneNumber) === zoneNumber && 
                    cell.dataset.zoneLetter === zoneLetter) {
                    cell.classList.add('active');
                    
                    // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ø²ÙˆÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
                    cell.scrollIntoView({behavior: 'smooth', block: 'center', inline: 'center'});
                }
            });
            
            // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø²ÙˆÙ†
            displayZoneInfo(zoneNumber, zoneLetter);
        }
        
        // Ù†Ù…Ø§ÛŒØ´ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø²ÙˆÙ†
        function displayZoneInfo(zoneNumber, zoneLetter) {
            const isNorthern = ['X','W','V','U','T','S','R','Q','P','N'].includes(zoneLetter);
            const hemisphere = isNorthern ? 'Ø´Ù…Ø§Ù„ÛŒ' : 'Ø¬Ù†ÙˆØ¨ÛŒ';
            const latRange = zoneLatRanges[zoneLetter] || 'ØªØ¹Ø±ÛŒÙ Ù†Ø´Ø¯Ù‡';
            
            // ØªØ¹ÛŒÛŒÙ† Ù…ÙˆÙ‚Ø¹ÛŒØª Ø´Ø±Ù‚ÛŒ/ØºØ±Ø¨ÛŒ
            let position = '';
            if (zoneNumber <= 30) {
                position = 'ØºØ±Ø¨ Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£';
            } else {
                position = 'Ø´Ø±Ù‚ Ù†ØµÙâ€ŒØ§Ù„Ù†Ù‡Ø§Ø± Ù…Ø¨Ø¯Ø£';
            }
            
            document.getElementById('result-zone-number').textContent = zoneNumber;
            document.getElementById('result-zone-letter').textContent = zoneLetter;
            document.getElementById('result-hemisphere').textContent = hemisphere;
            document.getElementById('result-lat-range').textContent = latRange;
            document.getElementById('result-full-zone').textContent = `${zoneNumber}${zoneLetter}`;
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø®Ø´ Ù†ØªØ§ÛŒØ¬
            document.getElementById('result-section').style.display = 'block';
            
            // Ù†Ù…Ø§ÛŒØ´ ØªÙˆØ¶ÛŒØ­ Ø§Ø¶Ø§ÙÙ‡ Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„
            console.log(`Ù…ÙˆÙ‚Ø¹ÛŒØª: ${position} | Ø²ÙˆÙ†: ${zoneNumber}${zoneLetter}`);
        }
        
        // ØªØ³Øª Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù
        function testLocation(name, lat, lon) {
            document.getElementById('latitude').value = lat;
            document.getElementById('longitude').value = lon;
            
            // Ù†Ù…Ø§ÛŒØ´ Ù†Ø§Ù… Ù…ÙˆÙ‚Ø¹ÛŒØª
            const resultTitle = document.querySelector('.result-title');
            resultTitle.textContent = `Ø²ÙˆÙ† UTM Ø¨Ø±Ø§ÛŒ ${name}`;
            
            findUTMZone();
        }
        
        // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø²ÙˆÙ† UTM Ø§Ø² Ù…Ø®ØªØµØ§Øª Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
        function findUTMZone() {
            const latInput = document.getElementById('latitude');
            const lonInput = document.getElementById('longitude');
            
            const lat = parseFloat(latInput.value);
            const lon = parseFloat(lonInput.value);
            
            // Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
            if (isNaN(lat) || lat < -90 || lat > 90) {
                alert('Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ù…Ø¹ØªØ¨Ø± Ø¨ÛŒÙ† Û¹Û°- ØªØ§ Û¹Û°+ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            if (isNaN(lon) || lon < -180 || lon > 180) {
                alert('Ù„Ø·ÙØ§Ù‹ ÛŒÚ© Ø·ÙˆÙ„ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ Ù…Ø¹ØªØ¨Ø± Ø¨ÛŒÙ† Û±Û¸Û°- ØªØ§ Û±Û¸Û°+ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            // Ù‡Ø´Ø¯Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù…Ù†Ø§Ø·Ù‚ Ù‚Ø·Ø¨ÛŒ
            if (lat > 84 || lat < -80) {
                alert("âš ï¸ Ù…Ù†Ø§Ø·Ù‚ Ù‚Ø·Ø¨ÛŒ: Ø¨Ø§Ù„Ø§ÛŒ 84Â°N Ùˆ Ù¾Ø§ÛŒÛŒÙ† 80Â°S Ø§Ø² Ø³ÛŒØ³ØªÙ… UPS Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ù†Ù‡ UTM.");
            }
            
            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¹Ø¯Ø¯ Ø²ÙˆÙ†
            const zoneNumber = Math.floor((lon + 180) / 6) + 1;
            
            // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø±Ù Ø²ÙˆÙ† Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¹Ø±Ø¶ Ø¬ØºØ±Ø§ÙÛŒØ§ÛŒÛŒ
            let zoneLetter;
            if (lat >= 84) zoneLetter = 'X';
            else if (lat >= 72) zoneLetter = 'X';
            else if (lat >= 64) zoneLetter = 'W';
            else if (lat >= 56) zoneLetter = 'V';
            else if (lat >= 48) zoneLetter = 'U';
            else if (lat >= 40) zoneLetter = 'T';
            else if (lat >= 32) zoneLetter = 'S';
            else if (lat >= 24) zoneLetter = 'R';
            else if (lat >= 16) zoneLetter = 'Q';
            else if (lat >= 8) zoneLetter = 'P';
            else if (lat >= 0) zoneLetter = 'N';
            else if (lat >= -8) zoneLetter = 'M';
            else if (lat >= -16) zoneLetter = 'L';
            else if (lat >= -24) zoneLetter = 'K';
            else if (lat >= -32) zoneLetter = 'J';
            else if (lat >= -40) zoneLetter = 'H';
            else if (lat >= -48) zoneLetter = 'G';
            else if (lat >= -56) zoneLetter = 'F';
            else if (lat >= -64) zoneLetter = 'E';
            else if (lat >= -72) zoneLetter = 'D';
            else zoneLetter = 'C';
            
            // Ø§Ù†ØªØ®Ø§Ø¨ Ø²ÙˆÙ† Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡
            selectZone(zoneNumber, zoneLetter);
            
            // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ø¨Ø®Ø´ Ù†ØªØ§ÛŒØ¬ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
            if (window.innerWidth < 1200) {
                document.getElementById('result-section').scrollIntoView({behavior: 'smooth'});
            }
        }
        
        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        document.addEventListener('DOMContentLoaded', () => {
            createUTMMap();
            
            // Ø§Ù†ØªØ®Ø§Ø¨ Ø²ÙˆÙ† ØªÙ‡Ø±Ø§Ù† Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù†Ù…ÙˆÙ†Ù‡
            setTimeout(() => {
                testLocation('ØªÙ‡Ø±Ø§Ù†', 35.6892, 51.3890);
            }, 500);
            
            // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Enter
            document.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    findUTMZone();
                }
            });
        });
    </script>
</body>
</html>