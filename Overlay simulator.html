<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ›« Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø² Ù¾ÙˆØ´Ø´ Ø·ÙˆÙ„ÛŒ Ùˆ Ø¹Ø±Ø¶ÛŒ ÙØªÙˆÚ¯Ø±Ø§Ù…ØªØ±ÛŒ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #e63946;
            --light: #f8f9fa;
            --dark: #0f172a;
            --card-bg: rgba(255, 255, 255, 0.98);
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --shadow-sm: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Ù‡Ø¯Ø± */
        .hero {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-xl);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, var(--success), var(--primary), var(--accent));
        }

        .hero h1 {
            font-size: 2.8rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(45deg, var(--success), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .hero p {
            font-size: 1.2rem;
            color: #94a3b8;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ */
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .input-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-lg);
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .input-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
            border-color: rgba(67, 97, 238, 0.3);
        }

        .input-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
        }

        .input-card:nth-child(1)::before { background: var(--gradient-1); }
        .input-card:nth-child(2)::before { background: var(--gradient-2); }
        .input-card:nth-child(3)::before { background: var(--gradient-3); }
        .input-card:nth-child(4)::before { background: var(--gradient-4); }

        .input-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .input-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .input-card:nth-child(1) .input-icon { color: var(--success); background: rgba(76, 201, 240, 0.2); }
        .input-card:nth-child(2) .input-icon { color: var(--primary); background: rgba(67, 97, 238, 0.2); }
        .input-card:nth-child(3) .input-icon { color: var(--accent); background: rgba(247, 37, 133, 0.2); }
        .input-card:nth-child(4) .input-icon { color: var(--warning); background: rgba(248, 150, 30, 0.2); }

        .input-header h3 {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .input-header p {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ */
        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #cbd5e1;
            font-weight: 500;
        }

        input[type="number"] {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-md);
            color: white;
            font-size: 1.1rem;
            font-family: 'Vazirmatn', sans-serif;
            transition: var(--transition);
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.1);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        /* Ø§Ø³Ù„Ø§ÛŒØ¯Ø± */
        .slider-container {
            margin-top: 10px;
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .slider-value {
            font-size: 1.5rem;
            font-weight: 700;
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 15px;
            border-radius: 20px;
        }

        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 10px;
            border-radius: 5px;
            outline: none;
        }

        .input-card:nth-child(1) input[type="range"] { background: linear-gradient(to right, var(--success), #38f9d7); }
        .input-card:nth-child(2) input[type="range"] { background: linear-gradient(to right, var(--primary), #764ba2); }
        .input-card:nth-child(3) input[type="range"] { background: linear-gradient(to right, var(--accent), #f5576c); }
        .input-card:nth-child(4) input[type="range"] { background: linear-gradient(to right, var(--warning), #f093fb); }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: var(--transition);
        }

        .input-card:nth-child(1) input[type="range"]::-webkit-slider-thumb { border: 3px solid var(--success); }
        .input-card:nth-child(2) input[type="range"]::-webkit-slider-thumb { border: 3px solid var(--primary); }
        .input-card:nth-child(3) input[type="range"]::-webkit-slider-thumb { border: 3px solid var(--accent); }
        .input-card:nth-child(4) input[type="range"]::-webkit-slider-thumb { border: 3px solid var(--warning); }

        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
        }

        /* Ø¨Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ */
        .visualization-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            margin-bottom: 40px;
        }

        .canvas-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--radius-lg);
            padding: 25px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .canvas-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, var(--success), var(--primary), var(--accent));
        }

        canvas {
            width: 100%;
            height: 600px;
            border-radius: var(--radius-md);
            background: rgba(15, 23, 42, 0.8);
            display: block;
        }

        /* Ù„ÛŒØ¯Ø± */
        .legend {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        /* Ø¢Ù…Ø§Ø± */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-md);
            padding: 20px;
            text-align: center;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(67, 97, 238, 0.3);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 800;
            margin: 10px 0;
            background: linear-gradient(45deg, var(--success), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
        .actions {
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: var(--radius-md);
            font-family: 'Vazirmatn', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex: 1;
        }

        .btn-primary {
            background: var(--gradient-1);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .input-grid {
                grid-template-columns: 1fr;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .legend {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            canvas {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ù‡Ø¯Ø± -->
        <div class="hero fade-in">
            <h1><i class="fas fa-satellite-dish"></i> Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø² Ù¾ÙˆØ´Ø´ Ø·ÙˆÙ„ÛŒ Ùˆ Ø¹Ø±Ø¶ÛŒ ÙØªÙˆÚ¯Ø±Ø§Ù…ØªØ±ÛŒ</h1>
            <p>Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù‡Ù…Ø²Ù…Ø§Ù† Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ Ùˆ Ø¹Ø±Ø¶ÛŒ Ø¹Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ§ÛŒÛŒ Ø¯Ø± Ø´Ø¨Ú©Ù‡ Ú©Ø§Ù…Ù„</p>
        </div>

        <!-- ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ -->
        <div class="input-grid">
            <!-- Ú©Ø§Ø±Øª 1: Ø§Ø¨Ø¹Ø§Ø¯ Ø¹Ú©Ø³ -->
            <div class="input-card fade-in">
                <div class="input-header">
                    <div class="input-icon">
                        <i class="fas fa-expand-alt"></i>
                    </div>
                    <div>
                        <h3>Ø§Ø¨Ø¹Ø§Ø¯ Ø¹Ú©Ø³</h3>
                        <p>Ø·ÙˆÙ„ Ø¶Ù„Ø¹ Ø¹Ú©Ø³ Ø¨Ø± Ø±ÙˆÛŒ Ø²Ù…ÛŒÙ†</p>
                    </div>
                </div>
                <div class="input-group">
                    <label for="sideLength">Ø·ÙˆÙ„ Ø¶Ù„Ø¹ Ø¹Ú©Ø³ (Ù…ØªØ±)</label>
                    <input type="number" id="sideLength" value="700" min="10" max="10000" step="10">
                </div>
                <div class="input-group">
                    <label for="unit">ÙˆØ§Ø­Ø¯ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ</label>
                    <input type="text" id="unit" value="Ù…ØªØ±" placeholder="Ù…ØªØ±ØŒ Ú©ÛŒÙ„ÙˆÙ…ØªØ±ØŒ ÙÙˆØª">
                </div>
            </div>

            <!-- Ú©Ø§Ø±Øª 2: Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ -->
            <div class="input-card fade-in">
                <div class="input-header">
                    <div class="input-icon">
                        <i class="fas fa-arrows-alt-h"></i>
                    </div>
                    <div>
                        <h3>Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ</h3>
                        <p>Ø¯Ø± Ø·ÙˆÙ„ Ù…Ø³ÛŒØ± Ù¾Ø±ÙˆØ§Ø² (Ø¯Ø± Ø§Ù…ØªØ¯Ø§Ø¯ Ø±Ø§Ù†)</p>
                    </div>
                </div>
                <div class="slider-container">
                    <div class="slider-header">
                        <label>Ø¯Ø±ØµØ¯ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ</label>
                        <div class="slider-value" id="longOverlapValue">75%</div>
                    </div>
                    <input type="range" id="longOverlapRange" min="50" max="95" value="75" step="1">
                </div>
                <input type="number" id="longOverlapInput" value="75" min="50" max="95">
            </div>

            <!-- Ú©Ø§Ø±Øª 3: Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ -->
            <div class="input-card fade-in">
                <div class="input-header">
                    <div class="input-icon">
                        <i class="fas fa-arrows-alt-v"></i>
                    </div>
                    <div>
                        <h3>Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ</h3>
                        <p>Ø¨ÛŒÙ† Ø±Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø¬Ø§ÙˆØ± (Ø¹Ø±Ø¶ Ù…Ù†Ø·Ù‚Ù‡)</p>
                    </div>
                </div>
                <div class="slider-container">
                    <div class="slider-header">
                        <label>Ø¯Ø±ØµØ¯ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ</label>
                        <div class="slider-value" id="latOverlapValue">30%</div>
                    </div>
                    <input type="range" id="latOverlapRange" min="10" max="60" value="30" step="1">
                </div>
                <input type="number" id="latOverlapInput" value="30" min="10" max="60">
            </div>

            <!-- Ú©Ø§Ø±Øª 4: ØªØ¹Ø¯Ø§Ø¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ø±Ø§Ù†â€ŒÙ‡Ø§ -->
            <div class="input-card fade-in">
                <div class="input-header">
                    <div class="input-icon">
                        <i class="fas fa-camera-retro"></i>
                    </div>
                    <div>
                        <h3>ØªØ¹Ø¯Ø§Ø¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ø±Ø§Ù†â€ŒÙ‡Ø§</h3>
                        <p>ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø´Ø¨Ú©Ù‡ Ø¹Ú©Ø³Ø¨Ø±Ø¯Ø§Ø±ÛŒ</p>
                    </div>
                </div>
                <div class="input-group">
                    <label for="numPhotos">ØªØ¹Ø¯Ø§Ø¯ Ø¹Ú©Ø³ Ø¯Ø± Ù‡Ø± Ø±Ø§Ù†</label>
                    <input type="number" id="numPhotos" value="5" min="2" max="20" step="1">
                </div>
                <div class="input-group">
                    <label for="numRuns">ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§Ù†â€ŒÙ‡Ø§ (Ø®Ø·ÙˆØ· Ù¾Ø±ÙˆØ§Ø²)</label>
                    <input type="number" id="numRuns" value="4" min="1" max="10" step="1">
                </div>
            </div>
        </div>

        <!-- Ø¢Ù…Ø§Ø± Ø³Ø±ÛŒØ¹ -->
        <div class="stats-grid fade-in">
            <div class="stat-card">
                <div class="stat-value" id="totalPhotos">20</div>
                <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø¹Ú©Ø³â€ŒÙ‡Ø§</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalCoverage">64%</div>
                <div class="stat-label">Ù¾ÙˆØ´Ø´ Ù…Ø¤Ø«Ø± Ú©Ù„</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="flightLength">2450</div>
                <div class="stat-label">Ø·ÙˆÙ„ Ú©Ù„ Ù¾Ø±ÙˆØ§Ø² (Ù…ØªØ±)</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalArea">4,900,000</div>
                <div class="stat-label">Ù…Ø³Ø§Ø­Øª Ù¾ÙˆØ´Ø´ (Ù…ØªØ±Â²)</div>
            </div>
        </div>

        <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒØ§ØªÛŒ -->
        <div class="actions">
            <button class="btn btn-primary" onclick="drawSchematic()">
                <i class="fas fa-sync-alt"></i> Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ
            </button>
            <button class="btn btn-secondary" onclick="resetValues()">
                <i class="fas fa-redo"></i> Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ±
            </button>
            <button class="btn btn-secondary" onclick="exportReport()">
                <i class="fas fa-file-export"></i> Ø®Ø±ÙˆØ¬ÛŒ Ú¯Ø²Ø§Ø±Ø´
            </button>
        </div>

        <!-- Ù†Ù…Ø§ÛŒØ´ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ -->
        <div class="visualization-section">
            <div class="canvas-container fade-in">
                <canvas id="schematicCanvas"></canvas>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4cc9f0;"></div>
                        <span>Ø¹Ú©Ø³ Ù‡ÙˆØ§ÛŒÛŒ</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f72585;"></div>
                        <span>Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #43e97b;"></div>
                        <span>Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffd43b;"></div>
                        <span>Ø®Ø·ÙˆØ· Ù¾Ø±ÙˆØ§Ø²</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #9d4edd;"></div>
                        <span>Ù…Ù†Ø§Ø·Ù‚ Ú†Ù‡Ø§Ø±Ú¯Ø§Ù†Ù‡ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§ÙˆÙ„ÛŒÙ‡
        let sideLength = 700;
        let longOverlap = 0.75;
        let latOverlap = 0.30;
        let numPhotos = 5;
        let numRuns = 4;
        let unit = "Ù…ØªØ±";

        // Ø¹Ù†Ø§ØµØ± DOM
        const sideLengthInput = document.getElementById('sideLength');
        const unitInput = document.getElementById('unit');
        const longOverlapRange = document.getElementById('longOverlapRange');
        const longOverlapValue = document.getElementById('longOverlapValue');
        const longOverlapInput = document.getElementById('longOverlapInput');
        const latOverlapRange = document.getElementById('latOverlapRange');
        const latOverlapValue = document.getElementById('latOverlapValue');
        const latOverlapInput = document.getElementById('latOverlapInput');
        const numPhotosInput = document.getElementById('numPhotos');
        const numRunsInput = document.getElementById('numRuns');

        // Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³Ù„Ø§ÛŒØ¯Ø±Ù‡Ø§ÛŒ Ø·ÙˆÙ„ÛŒ
        longOverlapRange.addEventListener('input', () => {
            longOverlapInput.value = longOverlapRange.value;
            longOverlapValue.textContent = longOverlapRange.value + '%';
            updateValues();
        });

        longOverlapInput.addEventListener('input', () => {
            longOverlapRange.value = longOverlapInput.value;
            longOverlapValue.textContent = longOverlapInput.value + '%';
            updateValues();
        });

        // Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø§Ø³Ù„Ø§ÛŒØ¯Ø±Ù‡Ø§ÛŒ Ø¹Ø±Ø¶ÛŒ
        latOverlapRange.addEventListener('input', () => {
            latOverlapInput.value = latOverlapRange.value;
            latOverlapValue.textContent = latOverlapRange.value + '%';
            updateValues();
        });

        latOverlapInput.addEventListener('input', () => {
            latOverlapRange.value = latOverlapInput.value;
            latOverlapValue.textContent = latOverlapInput.value + '%';
            updateValues();
        });

        // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§
        [sideLengthInput, unitInput, numPhotosInput, numRunsInput].forEach(input => {
            input.addEventListener('input', updateValues);
        });

        // ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ù‚Ø§Ø¯ÛŒØ±
        function updateValues() {
            sideLength = parseFloat(sideLengthInput.value) || 100;
            unit = unitInput.value || "Ù…ØªØ±";
            longOverlap = parseFloat(longOverlapRange.value) / 100;
            latOverlap = parseFloat(latOverlapRange.value) / 100;
            numPhotos = parseInt(numPhotosInput.value) || 2;
            numRuns = parseInt(numRunsInput.value) || 1;

            // Ù…Ø­Ø§Ø³Ø¨Ø§Øª
            const longOverlapArea = sideLength * longOverlap;
            const latOverlapArea = sideLength * latOverlap;
            const effectiveLong = sideLength * (1 - longOverlap);
            const effectiveLat = sideLength * (1 - latOverlap);
            const flightLength = sideLength + (numPhotos - 1) * effectiveLong;
            const flightWidth = sideLength + (numRuns - 1) * effectiveLat;
            const totalArea = flightLength * flightWidth;
            const totalPhotos = numPhotos * numRuns;
            const totalCoverage = (1 - (1 - longOverlap) * (1 - latOverlap)) * 100;

            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´
            document.getElementById('totalPhotos').textContent = totalPhotos;
            document.getElementById('totalCoverage').textContent = Math.round(totalCoverage) + '%';
            document.getElementById('flightLength').textContent = Math.round(flightLength);
            document.getElementById('totalArea').textContent = Math.round(totalArea).toLocaleString();

            // Ø±Ø³Ù… Ø´Ù…Ø§ØªÛŒÚ©
            drawSchematic();
        }

        // ØªØ§Ø¨Ø¹ Ø±Ø³Ù… Ø´Ù…Ø§ØªÛŒÚ© Ø¨Ø§ Ù‡Ø± Ø¯Ùˆ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ
        function drawSchematic() {
            const canvas = document.getElementById('schematicCanvas');
            const ctx = canvas.getContext('2d');
            
            // ØªÙ†Ø¸ÛŒÙ… Ø§Ø¨Ø¹Ø§Ø¯ Ú©Ø§Ù†ÙˆØ§Ø³
            canvas.width = canvas.parentElement.clientWidth;
            canvas.height = 600;

            // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ø§Ù†ÙˆØ§Ø³
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ù…Ù‚ÛŒØ§Ø³
            const displayWidth = canvas.width - 100;
            const displayHeight = canvas.height - 100;
            const flightLength = sideLength + (numPhotos - 1) * (sideLength * (1 - longOverlap));
            const flightWidth = sideLength + (numRuns - 1) * (sideLength * (1 - latOverlap));
            
            const scaleX = displayWidth / flightLength;
            const scaleY = displayHeight / flightWidth;
            const scale = Math.min(scaleX, scaleY) * 0.9; // 90% Ø¨Ø±Ø§ÛŒ Ø­Ø§Ø´ÛŒÙ‡

            const photoSize = sideLength * scale;
            const longSpacing = sideLength * (1 - longOverlap) * scale;
            const latSpacing = sideLength * (1 - latOverlap) * scale;
            const longOverlapSize = sideLength * longOverlap * scale;
            const latOverlapSize = sideLength * latOverlap * scale;

            const startX = (canvas.width - (numPhotos - 1) * longSpacing - photoSize) / 2;
            const startY = (canvas.height - (numRuns - 1) * latSpacing - photoSize) / 2;

            // Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, 'rgba(15, 23, 42, 0.9)');
            gradient.addColorStop(1, 'rgba(30, 41, 59, 0.9)');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Ø®Ø·ÙˆØ· Ø´Ø¨Ú©Ù‡
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
            ctx.lineWidth = 1;
            const gridSize = 50;
            for (let x = 0; x < canvas.width; x += gridSize) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            for (let y = 0; y < canvas.height; y += gridSize) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }

            // Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø±Ø§Ù†
            const runColors = [
                'rgba(76, 201, 240, 0.8)',   // Ø¢Ø¨ÛŒ Ø±ÙˆØ´Ù†
                'rgba(67, 97, 238, 0.8)',    // Ø¢Ø¨ÛŒ
                'rgba(247, 37, 133, 0.8)',   // ØµÙˆØ±ØªÛŒ
                'rgba(248, 150, 30, 0.8)',   // Ù†Ø§Ø±Ù†Ø¬ÛŒ
                'rgba(67, 227, 123, 0.8)',   // Ø³Ø¨Ø²
                'rgba(157, 78, 221, 0.8)',   // Ø¨Ù†ÙØ´
                'rgba(255, 212, 59, 0.8)',   // Ø²Ø±Ø¯
                'rgba(231, 57, 70, 0.8)',    // Ù‚Ø±Ù…Ø²
                'rgba(0, 242, 254, 0.8)',    // ÙÛŒØ±ÙˆØ²Ù‡â€ŒØ§ÛŒ
                'rgba(114, 9, 183, 0.8)'     // Ø¨Ù†ÙØ´ ØªÛŒØ±Ù‡
            ];

            // Ø±Ø³Ù… Ø¹Ú©Ø³â€ŒÙ‡Ø§ Ø¨Ø§ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒâ€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„ÛŒ Ùˆ Ø¹Ø±Ø¶ÛŒ
            for (let run = 0; run < numRuns; run++) {
                for (let photo = 0; photo < numPhotos; photo++) {
                    const x = startX + photo * longSpacing;
                    const y = startY + run * latSpacing;

                    // 1. Ù…Ù†Ø§Ø·Ù‚ Ú†Ù‡Ø§Ø±Ú¯Ø§Ù†Ù‡ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ (Ù‡Ù… Ø·ÙˆÙ„ÛŒ Ù‡Ù… Ø¹Ø±Ø¶ÛŒ)
                    if (run > 0 && photo > 0) {
                        ctx.fillStyle = 'rgba(157, 78, 221, 0.4)';
                        ctx.fillRect(x, y, longOverlapSize, latOverlapSize);
                    }

                    // 2. Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ (Ø¹Ú©Ø³ Ø³Ù…Øª Ú†Ù¾)
                    if (photo > 0) {
                        ctx.fillStyle = 'rgba(247, 37, 133, 0.3)';
                        ctx.fillRect(x, y, longOverlapSize, photoSize);
                    }

                    // 3. Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ (Ø±Ø§Ù† Ø¨Ø§Ù„Ø§ÛŒÛŒ)
                    if (run > 0) {
                        ctx.fillStyle = 'rgba(67, 227, 123, 0.3)';
                        ctx.fillRect(x, y, photoSize, latOverlapSize);
                    }

                    // 4. Ø¹Ú©Ø³ Ø§ØµÙ„ÛŒ
                    ctx.fillStyle = runColors[run % runColors.length];
                    ctx.fillRect(x, y, photoSize, photoSize);

                    // Ø­Ø§Ø´ÛŒÙ‡ Ø¹Ú©Ø³
                    ctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';
                    ctx.lineWidth = 2;
                    ctx.strokeRect(x, y, photoSize, photoSize);

                    // Ù†Ù‚Ø·Ù‡ Ù…Ø±Ú©Ø²ÛŒ
                    ctx.fillStyle = '#ffd43b';
                    ctx.beginPath();
                    ctx.arc(x + photoSize / 2, y + photoSize / 2, 5, 0, Math.PI * 2);
                    ctx.fill();

                    // Ø´Ù…Ø§Ø±Ù‡ Ø¹Ú©Ø³
                    ctx.fillStyle = 'white';
                    ctx.font = 'bold 14px Vazirmatn';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(`${run+1}-${photo+1}`, x + photoSize / 2, y + photoSize / 2);
                }

                // Ø±Ø³Ù… Ø®Ø· Ù¾Ø±ÙˆØ§Ø²
                const runY = startY + run * latSpacing + photoSize / 2;
                ctx.beginPath();
                ctx.moveTo(startX - 20, runY);
                ctx.lineTo(startX + (numPhotos - 1) * longSpacing + photoSize + 20, runY);
                ctx.strokeStyle = runColors[run % runColors.length];
                ctx.lineWidth = 3;
                ctx.setLineDash([10, 5]);
                ctx.stroke();
                ctx.setLineDash([]);

                // Ø¨Ø±Ú†Ø³Ø¨ Ø®Ø· Ù¾Ø±ÙˆØ§Ø²
                ctx.fillStyle = runColors[run % runColors.length];
                ctx.font = 'bold 16px Vazirmatn';
                ctx.textAlign = 'right';
                ctx.fillText(`Ø±Ø§Ù† ${run + 1}`, startX - 25, runY - 10);
            }

            // ÙÙ„Ø´ Ø¬Ù‡Øª Ù¾Ø±ÙˆØ§Ø²
            ctx.fillStyle = '#ffd43b';
            ctx.beginPath();
            ctx.moveTo(startX + (numPhotos - 1) * longSpacing + photoSize + 15, 
                      startY + ((numRuns - 1) * latSpacing + photoSize) / 2);
            ctx.lineTo(startX + (numPhotos - 1) * longSpacing + photoSize + 35, 
                      startY + ((numRuns - 1) * latSpacing + photoSize) / 2 - 10);
            ctx.lineTo(startX + (numPhotos - 1) * longSpacing + photoSize + 35, 
                      startY + ((numRuns - 1) * latSpacing + photoSize) / 2 + 10);
            ctx.closePath();
            ctx.fill();

            // Ø¹Ù†ÙˆØ§Ù† Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
            ctx.fillStyle = '#4cc9f0';
            ctx.font = 'bold 24px Vazirmatn';
            ctx.textAlign = 'center';
            ctx.fillText('Ø´Ø¨Ú©Ù‡ Ø¹Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ§ÛŒÛŒ Ø¨Ø§ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ Ùˆ Ø¹Ø±Ø¶ÛŒ', canvas.width / 2, 40);

            ctx.fillStyle = '#94a3b8';
            ctx.font = '16px Vazirmatn';
            ctx.fillText(`Ù…Ù‚ÛŒØ§Ø³: 1px â‰ˆ ${(sideLength / photoSize).toFixed(1)} ${unit}`, canvas.width / 2, 70);

            // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø§ÛŒÛŒÙ†
            const infoY = canvas.height - 30;
            ctx.fillStyle = 'rgba(255, 255, 255, 0.7)';
            ctx.font = '14px Vazirmatn';
            ctx.textAlign = 'left';
            ctx.fillText(`Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ: ${Math.round(longOverlap * 100)}%`, 20, infoY - 20);
            ctx.fillText(`Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ: ${Math.round(latOverlap * 100)}%`, 20, infoY);
            ctx.textAlign = 'right';
            ctx.fillText(`Ø§Ø¨Ø¹Ø§Ø¯ Ø¹Ú©Ø³: ${sideLength} ${unit}`, canvas.width - 20, infoY - 20);
            ctx.fillText(`ØªØ¹Ø¯Ø§Ø¯ Ø¹Ú©Ø³â€ŒÙ‡Ø§: ${numPhotos * numRuns}`, canvas.width - 20, infoY);

            // Ø§Ø¨Ø¹Ø§Ø¯ Ø±ÙˆÛŒ Ø´Ú©Ù„
            // Ø¨Ø¹Ø¯ Ø·ÙˆÙ„ÛŒ
            ctx.strokeStyle = '#4cc9f0';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(startX, startY + photoSize + 20);
            ctx.lineTo(startX + photoSize, startY + photoSize + 20);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(startX, startY + photoSize + 15);
            ctx.lineTo(startX, startY + photoSize + 25);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(startX + photoSize, startY + photoSize + 15);
            ctx.lineTo(startX + photoSize, startY + photoSize + 25);
            ctx.stroke();
            ctx.fillStyle = '#4cc9f0';
            ctx.font = '12px Vazirmatn';
            ctx.textAlign = 'center';
            ctx.fillText(`${sideLength} ${unit}`, startX + photoSize / 2, startY + photoSize + 35);

            // Ø¨Ø¹Ø¯ Ø¹Ø±Ø¶ÛŒ
            ctx.beginPath();
            ctx.moveTo(startX - 20, startY);
            ctx.lineTo(startX - 20, startY + photoSize);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(startX - 25, startY);
            ctx.lineTo(startX - 15, startY);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(startX - 25, startY + photoSize);
            ctx.lineTo(startX - 15, startY + photoSize);
            ctx.stroke();
            ctx.save();
            ctx.translate(startX - 40, startY + photoSize / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText(`${sideLength} ${unit}`, 0, 0);
            ctx.restore();

            // ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ù…Ø±Ø§Ú©Ø² Ø·ÙˆÙ„ÛŒ
            if (numPhotos > 1) {
                ctx.strokeStyle = '#f72585';
                ctx.beginPath();
                ctx.moveTo(startX + photoSize, startY - 20);
                ctx.lineTo(startX + photoSize + longSpacing, startY - 20);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(startX + photoSize, startY - 25);
                ctx.lineTo(startX + photoSize, startY - 15);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(startX + photoSize + longSpacing, startY - 25);
                ctx.lineTo(startX + photoSize + longSpacing, startY - 15);
                ctx.stroke();
                ctx.fillStyle = '#f72585';
                ctx.fillText(`${Math.round(sideLength * (1 - longOverlap))} ${unit}`, 
                           startX + photoSize + longSpacing / 2, startY - 35);
            }

            // ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ù…Ø±Ø§Ú©Ø² Ø¹Ø±Ø¶ÛŒ
            if (numRuns > 1) {
                ctx.strokeStyle = '#43e97b';
                ctx.beginPath();
                ctx.moveTo(startX + photoSize + 20, startY + photoSize);
                ctx.lineTo(startX + photoSize + 20, startY + photoSize + latSpacing);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(startX + photoSize + 15, startY + photoSize);
                ctx.lineTo(startX + photoSize + 25, startY + photoSize);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(startX + photoSize + 15, startY + photoSize + latSpacing);
                ctx.lineTo(startX + photoSize + 25, startY + photoSize + latSpacing);
                ctx.stroke();
                ctx.fillStyle = '#43e97b';
                ctx.save();
                ctx.translate(startX + photoSize + 35, startY + photoSize + latSpacing / 2);
                ctx.rotate(-Math.PI / 2);
                ctx.fillText(`${Math.round(sideLength * (1 - latOverlap))} ${unit}`, 0, 0);
                ctx.restore();
            }
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ
        function resetValues() {
            sideLengthInput.value = 700;
            unitInput.value = "Ù…ØªØ±";
            longOverlapRange.value = 75;
            longOverlapInput.value = 75;
            longOverlapValue.textContent = '75%';
            latOverlapRange.value = 30;
            latOverlapInput.value = 30;
            latOverlapValue.textContent = '30%';
            numPhotosInput.value = 5;
            numRunsInput.value = 4;
            updateValues();
        }

        // ØªØ§Ø¨Ø¹ Ø®Ø±ÙˆØ¬ÛŒ Ú¯Ø²Ø§Ø±Ø´
        function exportReport() {
            const flightLength = sideLength + (numPhotos - 1) * (sideLength * (1 - longOverlap));
            const flightWidth = sideLength + (numRuns - 1) * (sideLength * (1 - latOverlap));
            const totalArea = flightLength * flightWidth;
            const totalPhotos = numPhotos * numRuns;
            const totalCoverage = (1 - (1 - longOverlap) * (1 - latOverlap)) * 100;

            const report = `
Ú¯Ø²Ø§Ø±Ø´ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÙˆØ´Ø´ ÙØªÙˆÚ¯Ø±Ø§Ù…ØªØ±ÛŒ
================================

ğŸ“Š Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ:
â€¢ Ø·ÙˆÙ„ Ø¶Ù„Ø¹ Ø¹Ú©Ø³: ${sideLength} ${unit}
â€¢ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ: ${Math.round(longOverlap * 100)}%
â€¢ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ: ${Math.round(latOverlap * 100)}%
â€¢ ØªØ¹Ø¯Ø§Ø¯ Ø¹Ú©Ø³ Ø¯Ø± Ù‡Ø± Ø±Ø§Ù†: ${numPhotos}
â€¢ ØªØ¹Ø¯Ø§Ø¯ Ø±Ø§Ù†â€ŒÙ‡Ø§: ${numRuns}

ğŸ“ˆ Ù†ØªØ§ÛŒØ¬ Ù…Ø­Ø§Ø³Ø¨Ø§Øª:
â€¢ ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø¹Ú©Ø³â€ŒÙ‡Ø§: ${totalPhotos}
â€¢ Ø·ÙˆÙ„ Ú©Ù„ Ù¾Ø±ÙˆØ§Ø²: ${Math.round(flightLength)} ${unit}
â€¢ Ø¹Ø±Ø¶ Ú©Ù„ Ù…Ù†Ø·Ù‚Ù‡: ${Math.round(flightWidth)} ${unit}
â€¢ Ù…Ø³Ø§Ø­Øª Ú©Ù„ Ù¾ÙˆØ´Ø´: ${Math.round(totalArea).toLocaleString()} ${unit}Â²
â€¢ Ù¾ÙˆØ´Ø´ Ù…Ø¤Ø«Ø± Ú©Ù„: ${Math.round(totalCoverage)}%

ğŸ“ Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒ:
â€¢ ÙØ§ØµÙ„Ù‡ Ù…Ø±Ø§Ú©Ø² Ø·ÙˆÙ„ÛŒ: ${Math.round(sideLength * (1 - longOverlap))} ${unit}
â€¢ ÙØ§ØµÙ„Ù‡ Ù…Ø±Ø§Ú©Ø² Ø¹Ø±Ø¶ÛŒ: ${Math.round(sideLength * (1 - latOverlap))} ${unit}
â€¢ Ù…Ù†Ø·Ù‚Ù‡ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø·ÙˆÙ„ÛŒ: ${Math.round(sideLength * longOverlap)} ${unit}
â€¢ Ù…Ù†Ø·Ù‚Ù‡ Ù‡Ù…Ù¾ÙˆØ´Ø§Ù†ÛŒ Ø¹Ø±Ø¶ÛŒ: ${Math.round(sideLength * latOverlap)} ${unit}

ØªØ§Ø±ÛŒØ® ØªÙˆÙ„ÛŒØ¯: ${new Date().toLocaleDateString('fa-IR')}
            `;

            const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Ú¯Ø²Ø§Ø±Ø´-ÙØªÙˆÚ¯Ø±Ø§Ù…ØªØ±ÛŒ-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            alert('Ú¯Ø²Ø§Ø±Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ø¯!');
        }

        // ØªÙ†Ø¸ÛŒÙ… Ø§Ø¨Ø¹Ø§Ø¯ Ú©Ø§Ù†ÙˆØ§Ø³ Ù‡Ù†Ú¯Ø§Ù… ØªØºÛŒÛŒØ± Ø³Ø§ÛŒØ² Ù¾Ù†Ø¬Ø±Ù‡
        window.addEventListener('resize', () => {
            drawSchematic();
        });

        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
        updateValues();
        drawSchematic();
    </script>
</body>
</html>